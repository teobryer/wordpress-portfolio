!function(e,i,s){"use strict";var t,l={},r="scriptless-uploader";function a(e){var s;e.preventDefault(),t=i(this).prev(".scriptless-image-id"),s?s.open():((s=wp.media.frames.file_frame=wp.media({id:r,title:[l.params.text],button:{text:[l.params.text]},filterable:"all",multiple:!1,library:{type:"image",uploadedTo:wp.media.view.settings.post.id}})).on("select",function(){var e=s.state().get("selection").first().toJSON(),l=i(t).prevAll(".scriptless-image-preview"),r=i('<div class="scriptless-image-preview"><img style="max-width:100%;" src="'+e.url+'" /></div>');i(t).val(e.id),l.length&&l.remove(),i(t).before(r)}),s.open())}function p(){t=i(this).prevAll(".scriptless-image-id");var e=i(this).prevAll(".scriptless-image-preview");i(t).val(""),i(e).remove()}l.upload=function(){i(".scriptless-upload").on("click.scriptless",a),i(".scriptless-delete").on("click.delete",p)},l.params="undefined"==typeof scriptlessL10n?"":scriptlessL10n,void 0!==l.params&&l.upload()}(document,jQuery);